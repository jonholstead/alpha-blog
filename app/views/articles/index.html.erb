<h1>Listing all articles</h1>

<p>
  <%= link_to "Create new article", new_article_path %>
</p>

<table>
  <tr>
    <th>Title</th>
    <th>Description</th>
    <th>Created by</th>
    <th>Created</th>
    <th>Last updated</th>
  </tr>
  
  <% @articles.each do |article| %>
    <tr>
      <td><%= article.title %></td>
      <td><%= article.description %></td>
      
      #Temporary fix because db has articles with nill user
      <td><%= article.user.username if article.user %></td>
      
      <td><%= time_ago_in_words(article.created_at) %> ago</td>
      <td><%= time_ago_in_words(article.updated_at) %> ago</td>
      <td><%= link_to "Edit", edit_article_path(article) %></td>
      <td><%= link_to "Show", article_path(article) %></td>
      <td><%= link_to "Delete", article_path(article), method: :delete, data: {confirm: "Are you sure?"} %></td>
    </tr>
  <% end %>
</table>